{"version":3,"sources":["notification/index.jsx"],"names":["React","Notification","Icon","notificationInstance","defaultDuration","defaultTop","defaultBottom","defaultPlacement","defaultGetContainer","defaultCloseIcon","setNotificationConfig","options","duration","placement","bottom","top","getContainer","closeIcon","undefined","getPlacementStyle","style","left","right","getNotificationInstance","callback","prefixCls","cacheKey","closeIconToRender","newInstance","className","notification","typeToIcon","success","info","error","warning","notice","args","outerPrefixCls","iconNode","icon","type","iconType","autoMarginTag","description","content","message","btn","closable","onClose","onClick","key","api","open","close","Object","keys","forEach","removeNotice","config","destroy","warn"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Notification from 'rc-notification';\nimport Icon from '../icon';\nconst notificationInstance = {};\nlet defaultDuration = 4.5;\nlet defaultTop = 24;\nlet defaultBottom = 24;\nlet defaultPlacement = 'topRight';\nlet defaultGetContainer;\nlet defaultCloseIcon;\nfunction setNotificationConfig(options) {\n    const { duration, placement, bottom, top, getContainer, closeIcon } = options;\n    if (duration !== undefined) {\n        defaultDuration = duration;\n    }\n    if (placement !== undefined) {\n        defaultPlacement = placement;\n    }\n    if (bottom !== undefined) {\n        defaultBottom = bottom;\n    }\n    if (top !== undefined) {\n        defaultTop = top;\n    }\n    if (getContainer !== undefined) {\n        defaultGetContainer = getContainer;\n    }\n    if (closeIcon !== undefined) {\n        defaultCloseIcon = closeIcon;\n    }\n}\nfunction getPlacementStyle(placement, top = defaultTop, bottom = defaultBottom) {\n    let style;\n    switch (placement) {\n        case 'topLeft':\n            style = {\n                left: 0,\n                top,\n                bottom: 'auto',\n            };\n            break;\n        case 'topRight':\n            style = {\n                right: 0,\n                top,\n                bottom: 'auto',\n            };\n            break;\n        case 'bottomLeft':\n            style = {\n                left: 0,\n                top: 'auto',\n                bottom,\n            };\n            break;\n        default:\n            style = {\n                right: 0,\n                top: 'auto',\n                bottom,\n            };\n            break;\n    }\n    return style;\n}\nfunction getNotificationInstance({ prefixCls, placement = defaultPlacement, getContainer = defaultGetContainer, top, bottom, closeIcon = defaultCloseIcon, }, callback) {\n    const cacheKey = `${prefixCls}-${placement}`;\n    if (notificationInstance[cacheKey]) {\n        callback(notificationInstance[cacheKey]);\n        return;\n    }\n    const closeIconToRender = (<span className={`${prefixCls}-close-x`}>\n      {closeIcon || <Icon className={`${prefixCls}-close-icon`} type=\"close\"/>}\n    </span>);\n    Notification.newInstance({\n        prefixCls,\n        className: `${prefixCls}-${placement}`,\n        style: getPlacementStyle(placement, top, bottom),\n        getContainer,\n        closeIcon: closeIconToRender,\n    }, (notification) => {\n        notificationInstance[cacheKey] = notification;\n        callback(notification);\n    });\n}\nconst typeToIcon = {\n    success: 'check-circle-o',\n    info: 'info-circle-o',\n    error: 'close-circle-o',\n    warning: 'exclamation-circle-o',\n};\nfunction notice(args) {\n    const outerPrefixCls = args.prefixCls || 'ant-notification';\n    const prefixCls = `${outerPrefixCls}-notice`;\n    const duration = args.duration === undefined ? defaultDuration : args.duration;\n    let iconNode = null;\n    if (args.icon) {\n        iconNode = <span className={`${prefixCls}-icon`}>{args.icon}</span>;\n    }\n    else if (args.type) {\n        const iconType = typeToIcon[args.type];\n        iconNode = (<Icon className={`${prefixCls}-icon ${prefixCls}-icon-${args.type}`} type={iconType}/>);\n    }\n    const autoMarginTag = !args.description && iconNode ? (<span className={`${prefixCls}-message-single-line-auto-margin`}/>) : null;\n    const { placement, top, bottom, getContainer, closeIcon } = args;\n    getNotificationInstance({\n        prefixCls: outerPrefixCls,\n        placement,\n        top,\n        bottom,\n        getContainer,\n        closeIcon,\n    }, (notification) => {\n        notification.notice({\n            content: (<div className={iconNode ? `${prefixCls}-with-icon` : ''}>\n            {iconNode}\n            <div className={`${prefixCls}-message`}>\n              {autoMarginTag}\n              {args.message}\n            </div>\n            <div className={`${prefixCls}-description`}>{args.description}</div>\n            {args.btn ? <span className={`${prefixCls}-btn`}>{args.btn}</span> : null}\n          </div>),\n            duration,\n            closable: true,\n            onClose: args.onClose,\n            onClick: args.onClick,\n            key: args.key,\n            style: args.style || {},\n            className: args.className,\n        });\n    });\n}\nconst api = {\n    open: notice,\n    close(key) {\n        Object.keys(notificationInstance).forEach(cacheKey => notificationInstance[cacheKey].removeNotice(key));\n    },\n    config: setNotificationConfig,\n    destroy() {\n        Object.keys(notificationInstance).forEach(cacheKey => {\n            notificationInstance[cacheKey].destroy();\n            delete notificationInstance[cacheKey];\n        });\n    },\n};\n['success', 'info', 'warning', 'error'].forEach(type => {\n    api[type] = (args) => api.open(Object.assign(Object.assign({}, args), { type }));\n});\napi.warn = api.warning;\nexport default api;\n"],"file":"index.js"}
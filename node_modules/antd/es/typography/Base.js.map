{"version":3,"sources":["typography/Base.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","classNames","polyfill","toArray","findDOMNode","copy","omit","ResizeObserver","configConsumerProps","withConfigConsumer","LocaleReceiver","warning","TransButton","raf","isStyleSupport","Icon","Tooltip","Typography","Editable","measure","isLineClampSupport","isTextOverflowSupport","wrapperDecorations","content","mark","code","underline","del","strong","currentContent","wrap","needed","tag","createElement","ELLIPSIS_STR","Base","arguments","state","edit","copied","ellipsisText","ellipsisContent","isEllipsis","expanded","clientRendered","onExpandClick","getEllipsis","onExpand","setState","onEditClick","triggerEdit","onEditChange","value","getEditable","onChange","onEditCancel","onCopyClick","props","children","copyable","copyConfig","text","undefined","String","onCopy","copyId","window","setTimeout","setContentRef","node","setEditRef","editIcon","onStart","focus","resizeOnNextFrame","cancel","rafId","syncEllipsis","prevProps","ellipsis","prevEllipsis","rows","clearTimeout","editable","editing","expandable","canUseCSSEllipsis","every","child","renderOperations","forceRender","prefixCls","expandStr","editStr","title","copiedStr","copyStr","className","style","forceRenderExpanded","renderExpand","renderEdit","renderCopy","filter","_a","component","type","disabled","restProps","textProps","cssEllipsis","cssTextOverflow","cssLineClamp","textNode","ariaLabel","expand","WebkitLineClamp","renderEditInput","renderContent","nextProps","Component","defaultProps"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport toArray from 'rc-util/lib/Children/toArray';\nimport findDOMNode from 'rc-util/lib/Dom/findDOMNode';\nimport copy from 'copy-to-clipboard';\nimport omit from 'omit.js';\nimport ResizeObserver from 'rc-resize-observer';\nimport { configConsumerProps } from '../config-provider';\nimport { withConfigConsumer } from '../config-provider/context';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport warning from '../_util/warning';\nimport TransButton from '../_util/transButton';\nimport raf from '../_util/raf';\nimport isStyleSupport from '../_util/styleChecker';\nimport Icon from '../icon';\nimport Tooltip from '../tooltip';\nimport Typography from './Typography';\nimport Editable from './Editable';\nimport measure from './util';\nconst isLineClampSupport = isStyleSupport('webkitLineClamp');\nconst isTextOverflowSupport = isStyleSupport('textOverflow');\nfunction wrapperDecorations({ mark, code, underline, delete: del, strong }, content) {\n    let currentContent = content;\n    function wrap(needed, tag) {\n        if (!needed)\n            return;\n        currentContent = React.createElement(tag, {}, currentContent);\n    }\n    wrap(strong, 'strong');\n    wrap(underline, 'u');\n    wrap(del, 'del');\n    wrap(code, 'code');\n    wrap(mark, 'mark');\n    return currentContent;\n}\nconst ELLIPSIS_STR = '...';\nclass Base extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            edit: false,\n            copied: false,\n            ellipsisText: '',\n            ellipsisContent: null,\n            isEllipsis: false,\n            expanded: false,\n            clientRendered: false,\n        };\n        // =============== Expend ===============\n        this.onExpandClick = () => {\n            const { onExpand } = this.getEllipsis();\n            this.setState({ expanded: true });\n            if (onExpand) {\n                onExpand();\n            }\n        };\n        // ================ Edit ================\n        this.onEditClick = () => {\n            this.triggerEdit(true);\n        };\n        this.onEditChange = (value) => {\n            const { onChange } = this.getEditable();\n            if (onChange) {\n                onChange(value);\n            }\n            this.triggerEdit(false);\n        };\n        this.onEditCancel = () => {\n            this.triggerEdit(false);\n        };\n        // ================ Copy ================\n        this.onCopyClick = () => {\n            const { children, copyable } = this.props;\n            const copyConfig = Object.assign({}, (typeof copyable === 'object' ? copyable : null));\n            if (copyConfig.text === undefined) {\n                copyConfig.text = String(children);\n            }\n            copy(copyConfig.text || '');\n            this.setState({ copied: true }, () => {\n                if (copyConfig.onCopy) {\n                    copyConfig.onCopy();\n                }\n                this.copyId = window.setTimeout(() => {\n                    this.setState({ copied: false });\n                }, 3000);\n            });\n        };\n        this.setContentRef = (node) => {\n            this.content = node;\n        };\n        this.setEditRef = (node) => {\n            this.editIcon = node;\n        };\n        this.triggerEdit = (edit) => {\n            const { onStart } = this.getEditable();\n            if (edit && onStart) {\n                onStart();\n            }\n            this.setState({ edit }, () => {\n                if (!edit && this.editIcon) {\n                    this.editIcon.focus();\n                }\n            });\n        };\n        // ============== Ellipsis ==============\n        this.resizeOnNextFrame = () => {\n            raf.cancel(this.rafId);\n            this.rafId = raf(() => {\n                // Do not bind `syncEllipsis`. It need for test usage on prototype\n                this.syncEllipsis();\n            });\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        const { children, editable } = nextProps;\n        warning(!editable || typeof children === 'string', 'Typography', 'When `editable` is enabled, the `children` should use string.');\n        return {};\n    }\n    componentDidMount() {\n        this.setState({ clientRendered: true });\n        this.resizeOnNextFrame();\n    }\n    componentDidUpdate(prevProps) {\n        const { children } = this.props;\n        const ellipsis = this.getEllipsis();\n        const prevEllipsis = this.getEllipsis(prevProps);\n        if (children !== prevProps.children || ellipsis.rows !== prevEllipsis.rows) {\n            this.resizeOnNextFrame();\n        }\n    }\n    componentWillUnmount() {\n        window.clearTimeout(this.copyId);\n        raf.cancel(this.rafId);\n    }\n    getEditable(props) {\n        const { edit } = this.state;\n        const { editable } = props || this.props;\n        if (!editable)\n            return { editing: edit };\n        return Object.assign({ editing: edit }, (typeof editable === 'object' ? editable : null));\n    }\n    getEllipsis(props) {\n        const { ellipsis } = props || this.props;\n        if (!ellipsis)\n            return {};\n        return Object.assign({ rows: 1, expandable: false }, (typeof ellipsis === 'object' ? ellipsis : null));\n    }\n    canUseCSSEllipsis() {\n        const { clientRendered } = this.state;\n        const { editable, copyable } = this.props;\n        const { rows, expandable } = this.getEllipsis();\n        // Can't use css ellipsis since we need to provide the place for button\n        if (editable || copyable || expandable || !clientRendered) {\n            return false;\n        }\n        if (rows === 1) {\n            return isTextOverflowSupport;\n        }\n        return isLineClampSupport;\n    }\n    syncEllipsis() {\n        const { ellipsisText, isEllipsis, expanded } = this.state;\n        const { rows } = this.getEllipsis();\n        const { children } = this.props;\n        if (!rows || rows < 0 || !this.content || expanded)\n            return;\n        // Do not measure if css already support ellipsis\n        if (this.canUseCSSEllipsis())\n            return;\n        warning(toArray(children).every((child) => typeof child === 'string'), 'Typography', '`ellipsis` should use string as children only.');\n        const { content, text, ellipsis } = measure(findDOMNode(this.content), rows, children, this.renderOperations(true), ELLIPSIS_STR);\n        if (ellipsisText !== text || isEllipsis !== ellipsis) {\n            this.setState({ ellipsisText: text, ellipsisContent: content, isEllipsis: ellipsis });\n        }\n    }\n    renderExpand(forceRender) {\n        const { expandable } = this.getEllipsis();\n        const { prefixCls } = this.props;\n        const { expanded, isEllipsis } = this.state;\n        if (!expandable)\n            return null;\n        // force render expand icon for measure usage or it will cause dead loop\n        if (!forceRender && (expanded || !isEllipsis))\n            return null;\n        return (<a key=\"expand\" className={`${prefixCls}-expand`} onClick={this.onExpandClick} aria-label={this.expandStr}>\n        {this.expandStr}\n      </a>);\n    }\n    renderEdit() {\n        const { editable, prefixCls } = this.props;\n        if (!editable)\n            return;\n        return (<Tooltip key=\"edit\" title={this.editStr}>\n        <TransButton ref={this.setEditRef} className={`${prefixCls}-edit`} onClick={this.onEditClick} aria-label={this.editStr}>\n          <Icon role=\"button\" type=\"edit\"/>\n        </TransButton>\n      </Tooltip>);\n    }\n    renderCopy() {\n        const { copied } = this.state;\n        const { copyable, prefixCls } = this.props;\n        if (!copyable)\n            return;\n        const title = copied ? this.copiedStr : this.copyStr;\n        return (<Tooltip key=\"copy\" title={title}>\n        <TransButton className={classNames(`${prefixCls}-copy`, copied && `${prefixCls}-copy-success`)} onClick={this.onCopyClick} aria-label={title}>\n          <Icon role=\"button\" type={copied ? 'check' : 'copy'}/>\n        </TransButton>\n      </Tooltip>);\n    }\n    renderEditInput() {\n        const { children, prefixCls, className, style } = this.props;\n        return (<Editable value={typeof children === 'string' ? children : ''} onSave={this.onEditChange} onCancel={this.onEditCancel} prefixCls={prefixCls} className={className} style={style}/>);\n    }\n    renderOperations(forceRenderExpanded) {\n        return [this.renderExpand(forceRenderExpanded), this.renderEdit(), this.renderCopy()].filter(node => node);\n    }\n    renderContent() {\n        const { ellipsisContent, isEllipsis, expanded } = this.state;\n        const _a = this.props, { component, children, className, prefixCls, type, disabled, style } = _a, restProps = __rest(_a, [\"component\", \"children\", \"className\", \"prefixCls\", \"type\", \"disabled\", \"style\"]);\n        const { rows } = this.getEllipsis();\n        const textProps = omit(restProps, [\n            'prefixCls',\n            'editable',\n            'copyable',\n            'ellipsis',\n            'mark',\n            'underline',\n            'mark',\n            'code',\n            'delete',\n            'underline',\n            'strong',\n            ...configConsumerProps,\n        ]);\n        const cssEllipsis = this.canUseCSSEllipsis();\n        const cssTextOverflow = rows === 1 && cssEllipsis;\n        const cssLineClamp = rows && rows > 1 && cssEllipsis;\n        let textNode = children;\n        let ariaLabel = null;\n        // Only use js ellipsis when css ellipsis not support\n        if (rows && isEllipsis && !expanded && !cssEllipsis) {\n            ariaLabel = String(children);\n            // We move full content to outer element to avoid repeat read the content by accessibility\n            textNode = (<span title={String(children)} aria-hidden=\"true\">\n          {ellipsisContent}\n          {ELLIPSIS_STR}\n        </span>);\n        }\n        textNode = wrapperDecorations(this.props, textNode);\n        return (<LocaleReceiver componentName=\"Text\">\n        {({ edit, copy: copyStr, copied, expand }) => {\n            this.editStr = edit;\n            this.copyStr = copyStr;\n            this.copiedStr = copied;\n            this.expandStr = expand;\n            return (<ResizeObserver onResize={this.resizeOnNextFrame} disabled={!rows}>\n              <Typography className={classNames(className, {\n                [`${prefixCls}-${type}`]: type,\n                [`${prefixCls}-disabled`]: disabled,\n                [`${prefixCls}-ellipsis`]: rows,\n                [`${prefixCls}-ellipsis-single-line`]: cssTextOverflow,\n                [`${prefixCls}-ellipsis-multiple-line`]: cssLineClamp,\n            })} style={Object.assign(Object.assign({}, style), { WebkitLineClamp: cssLineClamp ? rows : null })} component={component} ref={this.setContentRef} aria-label={ariaLabel} {...textProps}>\n                {textNode}\n                {this.renderOperations()}\n              </Typography>\n            </ResizeObserver>);\n        }}\n      </LocaleReceiver>);\n    }\n    render() {\n        const { editing } = this.getEditable();\n        if (editing) {\n            return this.renderEditInput();\n        }\n        return this.renderContent();\n    }\n}\nBase.defaultProps = {\n    children: '',\n};\npolyfill(Base);\nexport default withConfigConsumer({\n    prefixCls: 'typography',\n})(Base);\n"],"file":"Base.js"}
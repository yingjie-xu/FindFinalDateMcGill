{"version":3,"sources":["checkbox/Group.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","PropTypes","polyfill","classNames","shallowEqual","omit","Checkbox","ConfigConsumer","CheckboxGroup","props","cancelValue","value","setState","registeredValues","filter","val","registerValue","toggleOption","option","state","optionIndex","push","splice","onChange","options","getOptions","sort","a","b","indexA","findIndex","opt","indexB","renderGroup","getPrefixCls","customizePrefixCls","prefixCls","className","style","restProps","groupPrefixCls","domProps","children","map","toString","disabled","label","classString","defaultValue","checkboxGroup","name","nextProps","nextState","Component","defaultProps","propTypes","array","isRequired","func","childContextTypes","any"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,MAAM,GAAI,QAAQ,KAAKA,MAAd,IAAyB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAClD,MAAIC,CAAC,GAAG,EAAR;;AACA,OAAK,IAAIC,CAAT,IAAcH,CAAd;AAAiB,QAAII,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCP,CAArC,EAAwCG,CAAxC,KAA8CF,CAAC,CAACO,OAAF,CAAUL,CAAV,IAAe,CAAjE,EACbD,CAAC,CAACC,CAAD,CAAD,GAAOH,CAAC,CAACG,CAAD,CAAR;AADJ;;AAEA,MAAIH,CAAC,IAAI,IAAL,IAAa,OAAOI,MAAM,CAACK,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWP,CAAC,GAAGC,MAAM,CAACK,qBAAP,CAA6BT,CAA7B,CAApB,EAAqDU,CAAC,GAAGP,CAAC,CAACQ,MAA3D,EAAmED,CAAC,EAApE,EAAwE;AACpE,QAAIT,CAAC,CAACO,OAAF,CAAUL,CAAC,CAACO,CAAD,CAAX,IAAkB,CAAlB,IAAuBN,MAAM,CAACC,SAAP,CAAiBO,oBAAjB,CAAsCL,IAAtC,CAA2CP,CAA3C,EAA8CG,CAAC,CAACO,CAAD,CAA/C,CAA3B,EACIR,CAAC,CAACC,CAAC,CAACO,CAAD,CAAF,CAAD,GAAUV,CAAC,CAACG,CAAC,CAACO,CAAD,CAAF,CAAX;AACP;AACL,SAAOR,CAAP;AACH,CAVD;;AAWA,OAAO,KAAKW,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,cAAT,QAA+B,oBAA/B;;IACMC,a;;;;;AACF,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,uFAAMA,KAAN;;AACA,UAAKC,WAAL,GAAmB,UAACC,KAAD,EAAW;AAC1B,YAAKC,QAAL,CAAc;AAAA,YAAGC,gBAAH,QAAGA,gBAAH;AAAA,eAA2B;AACrCA,UAAAA,gBAAgB,EAAEA,gBAAgB,CAACC,MAAjB,CAAwB,UAAAC,GAAG;AAAA,mBAAIA,GAAG,KAAKJ,KAAZ;AAAA,WAA3B;AADmB,SAA3B;AAAA,OAAd;AAGH,KAJD;;AAKA,UAAKK,aAAL,GAAqB,UAACL,KAAD,EAAW;AAC5B,YAAKC,QAAL,CAAc;AAAA,YAAGC,gBAAH,SAAGA,gBAAH;AAAA,eAA2B;AACrCA,UAAAA,gBAAgB,+BAAMA,gBAAN,IAAwBF,KAAxB;AADqB,SAA3B;AAAA,OAAd;AAGH,KAJD;;AAKA,UAAKM,YAAL,GAAoB,UAACC,MAAD,EAAY;AAAA,UACpBL,gBADoB,GACC,MAAKM,KADN,CACpBN,gBADoB;;AAE5B,UAAMO,WAAW,GAAG,MAAKD,KAAL,CAAWR,KAAX,CAAiBhB,OAAjB,CAAyBuB,MAAM,CAACP,KAAhC,CAApB;;AACA,UAAMA,KAAK,sBAAO,MAAKQ,KAAL,CAAWR,KAAlB,CAAX;;AACA,UAAIS,WAAW,KAAK,CAAC,CAArB,EAAwB;AACpBT,QAAAA,KAAK,CAACU,IAAN,CAAWH,MAAM,CAACP,KAAlB;AACH,OAFD,MAGK;AACDA,QAAAA,KAAK,CAACW,MAAN,CAAaF,WAAb,EAA0B,CAA1B;AACH;;AACD,UAAI,EAAE,WAAW,MAAKX,KAAlB,CAAJ,EAA8B;AAC1B,cAAKG,QAAL,CAAc;AAAED,UAAAA,KAAK,EAALA;AAAF,SAAd;AACH;;AAZ2B,UAapBY,QAboB,GAaP,MAAKd,KAbE,CAapBc,QAboB;;AAc5B,UAAIA,QAAJ,EAAc;AACV,YAAMC,OAAO,GAAG,MAAKC,UAAL,EAAhB;;AACAF,QAAAA,QAAQ,CAACZ,KAAK,CACTG,MADI,CACG,UAAAC,GAAG;AAAA,iBAAIF,gBAAgB,CAAClB,OAAjB,CAAyBoB,GAAzB,MAAkC,CAAC,CAAvC;AAAA,SADN,EAEJW,IAFI,CAEC,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAChB,cAAMC,MAAM,GAAGL,OAAO,CAACM,SAAR,CAAkB,UAAAC,GAAG;AAAA,mBAAIA,GAAG,CAACpB,KAAJ,KAAcgB,CAAlB;AAAA,WAArB,CAAf;AACA,cAAMK,MAAM,GAAGR,OAAO,CAACM,SAAR,CAAkB,UAAAC,GAAG;AAAA,mBAAIA,GAAG,CAACpB,KAAJ,KAAciB,CAAlB;AAAA,WAArB,CAAf;AACA,iBAAOC,MAAM,GAAGG,MAAhB;AACH,SANQ,CAAD,CAAR;AAOH;AACJ,KAxBD;;AAyBA,UAAKC,WAAL,GAAmB,iBAAsB;AAAA,UAAnBC,YAAmB,SAAnBA,YAAmB;;AAAA;AAAA,UAC7BzB,KAD6B,yBAC7BA,KAD6B;AAAA,UACtBU,KADsB,yBACtBA,KADsB;;AAAA,UAElBgB,kBAFkB,GAEgC1B,KAFhC,CAE7B2B,SAF6B;AAAA,UAEEC,SAFF,GAEgC5B,KAFhC,CAEE4B,SAFF;AAAA,UAEaC,KAFb,GAEgC7B,KAFhC,CAEa6B,KAFb;AAAA,UAEoBd,OAFpB,GAEgCf,KAFhC,CAEoBe,OAFpB;AAAA,UAEuCe,SAFvC,GAEmDrD,MAAM,CAACuB,KAAD,EAAQ,CAAC,WAAD,EAAc,WAAd,EAA2B,OAA3B,EAAoC,SAApC,CAAR,CAFzD;;AAGrC,UAAM2B,SAAS,GAAGF,YAAY,CAAC,UAAD,EAAaC,kBAAb,CAA9B;AACA,UAAMK,cAAc,aAAMJ,SAAN,WAApB;AACA,UAAMK,QAAQ,GAAGpC,IAAI,CAACkC,SAAD,EAAY,CAAC,UAAD,EAAa,cAAb,EAA6B,OAA7B,EAAsC,UAAtC,EAAkD,UAAlD,CAAZ,CAArB;AALqC,UAM/BG,QAN+B,GAMlBjC,KANkB,CAM/BiC,QAN+B;;AAOrC,UAAIlB,OAAO,IAAIA,OAAO,CAAC1B,MAAR,GAAiB,CAAhC,EAAmC;AAC/B4C,QAAAA,QAAQ,GAAG,MAAKjB,UAAL,GAAkBkB,GAAlB,CAAsB,UAAAzB,MAAM;AAAA,iBAAK,oBAAC,QAAD;AAAU,YAAA,SAAS,EAAEkB,SAArB;AAAgC,YAAA,GAAG,EAAElB,MAAM,CAACP,KAAP,CAAaiC,QAAb,EAArC;AAA8D,YAAA,QAAQ,EAAE,cAAc1B,MAAd,GAAuBA,MAAM,CAAC2B,QAA9B,GAAyCpC,KAAK,CAACoC,QAAvH;AAAiI,YAAA,KAAK,EAAE3B,MAAM,CAACP,KAA/I;AAAsJ,YAAA,OAAO,EAAEQ,KAAK,CAACR,KAAN,CAAYhB,OAAZ,CAAoBuB,MAAM,CAACP,KAA3B,MAAsC,CAAC,CAAtM;AAAyM,YAAA,QAAQ,EAAEO,MAAM,CAACK,QAA1N;AAAoO,YAAA,SAAS,YAAKiB,cAAL;AAA7O,aACjDtB,MAAM,CAAC4B,KAD0C,CAAL;AAAA,SAA5B,CAAX;AAGH;;AACD,UAAMC,WAAW,GAAG5C,UAAU,CAACqC,cAAD,EAAiBH,SAAjB,CAA9B;AACA,aAAQ;AAAK,QAAA,SAAS,EAAEU,WAAhB;AAA6B,QAAA,KAAK,EAAET;AAApC,SAA+CG,QAA/C,GACXC,QADW,CAAR;AAGH,KAhBD;;AAiBA,UAAKvB,KAAL,GAAa;AACTR,MAAAA,KAAK,EAAEF,KAAK,CAACE,KAAN,IAAeF,KAAK,CAACuC,YAArB,IAAqC,EADnC;AAETnC,MAAAA,gBAAgB,EAAE;AAFT,KAAb;AAtDe;AA0DlB;;;;sCASiB;AACd,aAAO;AACHoC,QAAAA,aAAa,EAAE;AACXhC,UAAAA,YAAY,EAAE,KAAKA,YADR;AAEXN,UAAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWR,KAFP;AAGXkC,UAAAA,QAAQ,EAAE,KAAKpC,KAAL,CAAWoC,QAHV;AAIXK,UAAAA,IAAI,EAAE,KAAKzC,KAAL,CAAWyC,IAJN;AAKX;AACAlC,UAAAA,aAAa,EAAE,KAAKA,aANT;AAOXN,UAAAA,WAAW,EAAE,KAAKA;AAPP;AADZ,OAAP;AAWH;;;0CACqByC,S,EAAWC,S,EAAW;AACxC,aAAO,CAAChD,YAAY,CAAC,KAAKK,KAAN,EAAa0C,SAAb,CAAb,IAAwC,CAAC/C,YAAY,CAAC,KAAKe,KAAN,EAAaiC,SAAb,CAA5D;AACH;;;iCACY;AAAA,UACD5B,OADC,GACW,KAAKf,KADhB,CACDe,OADC,EAET;;AACA,aAAOA,OAAO,CAACmB,GAAR,CAAY,UAAAzB,MAAM,EAAI;AACzB,YAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,iBAAO;AACH4B,YAAAA,KAAK,EAAE5B,MADJ;AAEHP,YAAAA,KAAK,EAAEO;AAFJ,WAAP;AAIH;;AACD,eAAOA,MAAP;AACH,OARM,CAAP;AASH;;;6BACQ;AACL,aAAO,oBAAC,cAAD,QAAiB,KAAKe,WAAtB,CAAP;AACH;;;6CAvC+BkB,S,EAAW;AACvC,UAAI,WAAWA,SAAf,EAA0B;AACtB,eAAO;AACHxC,UAAAA,KAAK,EAAEwC,SAAS,CAACxC,KAAV,IAAmB;AADvB,SAAP;AAGH;;AACD,aAAO,IAAP;AACH;;;;EAnEuBX,KAAK,CAACqD,S;;AAqGlC7C,aAAa,CAAC8C,YAAd,GAA6B;AACzB9B,EAAAA,OAAO,EAAE;AADgB,CAA7B;AAGAhB,aAAa,CAAC+C,SAAd,GAA0B;AACtBP,EAAAA,YAAY,EAAE/C,SAAS,CAACuD,KADF;AAEtB7C,EAAAA,KAAK,EAAEV,SAAS,CAACuD,KAFK;AAGtBhC,EAAAA,OAAO,EAAEvB,SAAS,CAACuD,KAAV,CAAgBC,UAHH;AAItBlC,EAAAA,QAAQ,EAAEtB,SAAS,CAACyD;AAJE,CAA1B;AAMAlD,aAAa,CAACmD,iBAAd,GAAkC;AAC9BV,EAAAA,aAAa,EAAEhD,SAAS,CAAC2D;AADK,CAAlC;AAGA1D,QAAQ,CAACM,aAAD,CAAR;AACA,eAAeA,aAAf","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport shallowEqual from 'shallowequal';\nimport omit from 'omit.js';\nimport Checkbox from './Checkbox';\nimport { ConfigConsumer } from '../config-provider';\nclass CheckboxGroup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.cancelValue = (value) => {\n            this.setState(({ registeredValues }) => ({\n                registeredValues: registeredValues.filter(val => val !== value),\n            }));\n        };\n        this.registerValue = (value) => {\n            this.setState(({ registeredValues }) => ({\n                registeredValues: [...registeredValues, value],\n            }));\n        };\n        this.toggleOption = (option) => {\n            const { registeredValues } = this.state;\n            const optionIndex = this.state.value.indexOf(option.value);\n            const value = [...this.state.value];\n            if (optionIndex === -1) {\n                value.push(option.value);\n            }\n            else {\n                value.splice(optionIndex, 1);\n            }\n            if (!('value' in this.props)) {\n                this.setState({ value });\n            }\n            const { onChange } = this.props;\n            if (onChange) {\n                const options = this.getOptions();\n                onChange(value\n                    .filter(val => registeredValues.indexOf(val) !== -1)\n                    .sort((a, b) => {\n                    const indexA = options.findIndex(opt => opt.value === a);\n                    const indexB = options.findIndex(opt => opt.value === b);\n                    return indexA - indexB;\n                }));\n            }\n        };\n        this.renderGroup = ({ getPrefixCls }) => {\n            const { props, state } = this;\n            const { prefixCls: customizePrefixCls, className, style, options } = props, restProps = __rest(props, [\"prefixCls\", \"className\", \"style\", \"options\"]);\n            const prefixCls = getPrefixCls('checkbox', customizePrefixCls);\n            const groupPrefixCls = `${prefixCls}-group`;\n            const domProps = omit(restProps, ['children', 'defaultValue', 'value', 'onChange', 'disabled']);\n            let { children } = props;\n            if (options && options.length > 0) {\n                children = this.getOptions().map(option => (<Checkbox prefixCls={prefixCls} key={option.value.toString()} disabled={'disabled' in option ? option.disabled : props.disabled} value={option.value} checked={state.value.indexOf(option.value) !== -1} onChange={option.onChange} className={`${groupPrefixCls}-item`}>\n          {option.label}\n        </Checkbox>));\n            }\n            const classString = classNames(groupPrefixCls, className);\n            return (<div className={classString} style={style} {...domProps}>\n        {children}\n      </div>);\n        };\n        this.state = {\n            value: props.value || props.defaultValue || [],\n            registeredValues: [],\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('value' in nextProps) {\n            return {\n                value: nextProps.value || [],\n            };\n        }\n        return null;\n    }\n    getChildContext() {\n        return {\n            checkboxGroup: {\n                toggleOption: this.toggleOption,\n                value: this.state.value,\n                disabled: this.props.disabled,\n                name: this.props.name,\n                // https://github.com/ant-design/ant-design/issues/16376\n                registerValue: this.registerValue,\n                cancelValue: this.cancelValue,\n            },\n        };\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n        return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n    }\n    getOptions() {\n        const { options } = this.props;\n        // https://github.com/Microsoft/TypeScript/issues/7960\n        return options.map(option => {\n            if (typeof option === 'string') {\n                return {\n                    label: option,\n                    value: option,\n                };\n            }\n            return option;\n        });\n    }\n    render() {\n        return <ConfigConsumer>{this.renderGroup}</ConfigConsumer>;\n    }\n}\nCheckboxGroup.defaultProps = {\n    options: [],\n};\nCheckboxGroup.propTypes = {\n    defaultValue: PropTypes.array,\n    value: PropTypes.array,\n    options: PropTypes.array.isRequired,\n    onChange: PropTypes.func,\n};\nCheckboxGroup.childContextTypes = {\n    checkboxGroup: PropTypes.any,\n};\npolyfill(CheckboxGroup);\nexport default CheckboxGroup;\n"],"file":"Group.js"}
{"version":3,"sources":["transfer/renderListBody.jsx"],"names":["React","findDOMNode","Animate","raf","tuple","ListItem","OmitProps","ListBody","arguments","state","mounted","onItemSelect","item","props","selectedKeys","checked","indexOf","key","mountId","setState","prevProps","filteredRenderItems","lazy","length","container","cancel","lazyId","scrollEvent","Event","bubbles","dispatchEvent","prefixCls","onScroll","globalDisabled","disabled","map","renderedEl","renderedText","Component","ListBodyWrapper"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport Animate from 'rc-animate';\nimport raf from '../_util/raf';\nimport { tuple } from '../_util/type';\nimport ListItem from './ListItem';\nexport const OmitProps = tuple('handleFilter', 'handleSelect', 'handleSelectAll', 'handleClear', 'body', 'checkedKeys');\nclass ListBody extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            mounted: false,\n        };\n        this.onItemSelect = (item) => {\n            const { onItemSelect, selectedKeys } = this.props;\n            const checked = selectedKeys.indexOf(item.key) >= 0;\n            onItemSelect(item.key, !checked);\n        };\n    }\n    componentDidMount() {\n        this.mountId = raf(() => {\n            this.setState({ mounted: true });\n        });\n    }\n    componentDidUpdate(prevProps) {\n        const { filteredRenderItems, lazy } = this.props;\n        if (prevProps.filteredRenderItems.length !== filteredRenderItems.length && lazy !== false) {\n            // TODO: Replace this with ref when react 15 support removed.\n            const container = findDOMNode(this);\n            raf.cancel(this.lazyId);\n            this.lazyId = raf(() => {\n                if (container) {\n                    const scrollEvent = new Event('scroll', { bubbles: true });\n                    container.dispatchEvent(scrollEvent);\n                }\n            });\n        }\n    }\n    componentWillUnmount() {\n        raf.cancel(this.mountId);\n        raf.cancel(this.lazyId);\n    }\n    render() {\n        const { mounted } = this.state;\n        const { prefixCls, onScroll, filteredRenderItems, lazy, selectedKeys, disabled: globalDisabled, } = this.props;\n        return (<Animate component=\"ul\" componentProps={{ onScroll }} className={`${prefixCls}-content`} transitionName={mounted ? `${prefixCls}-content-item-highlight` : ''} transitionLeave={false}>\n        {filteredRenderItems.map(({ renderedEl, renderedText, item }) => {\n            const { disabled } = item;\n            const checked = selectedKeys.indexOf(item.key) >= 0;\n            return (<ListItem disabled={globalDisabled || disabled} key={item.key} item={item} lazy={lazy} renderedText={renderedText} renderedEl={renderedEl} checked={checked} prefixCls={prefixCls} onClick={this.onItemSelect}/>);\n        })}\n      </Animate>);\n    }\n}\nconst ListBodyWrapper = (props) => <ListBody {...props}/>;\nexport default ListBodyWrapper;\n"],"file":"renderListBody.js"}
{"version":3,"sources":["date-picker/RangePicker.jsx"],"names":["React","moment","polyfill","RangeCalendar","RcDatePicker","classNames","shallowequal","Icon","Tag","ConfigConsumer","warning","interopDefault","formatDate","InputIcon","getShowDateFromValue","value","mode","start","end","newEnd","isSame","clone","add","pickerValueAdapter","Array","isArray","isEmptyArray","arr","length","every","i","fixLocale","localeCode","locale","RangePicker","props","savePicker","node","picker","clearSelection","e","preventDefault","stopPropagation","setState","handleChange","clearHoverValue","hoverValue","showDate","diff","undefined","onChange","format","handleOpenChange","open","onOpenChange","handleShowDateChange","handleHoverChange","handleRangeMouseLeave","state","handleCalendarInputSelect","handleRangeClick","setValue","onOk","renderFooter","ranges","renderExtraFooter","prefixCls","tagPrefixCls","customFooter","operations","Object","keys","map","range","call","rangeNode","renderRangePicker","getPrefixCls","customizePrefixCls","customizeTagPrefixCls","popupStyle","style","disabledDate","disabledTime","showTime","showToday","dateRender","onCalendarChange","suffixIcon","separator","calendarClassName","pickerChangeHandler","calendarProps","timePicker","changedValue","startPlaceholder","placeholder","lang","rangePlaceholder","endPlaceholder","calendar","onPanelChange","pickerStyle","width","startValue","endValue","clearIcon","disabled","allowClear","inputIcon","input","inputValue","pickerInputClass","id","toString","className","pickerClass","onFocus","onBlur","onMouseEnter","onMouseLeave","defaultValue","isMoment","Error","pickerValue","defaultPickerValue","_","prevState","focus","hidePanel","blur","nextProps","Component","defaultProps"],"mappings":"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","sourcesContent":["/* tslint:disable jsx-no-multiline-js */\nimport * as React from 'react';\nimport * as moment from 'moment';\nimport { polyfill } from 'react-lifecycles-compat';\nimport RangeCalendar from 'rc-calendar/lib/RangeCalendar';\nimport RcDatePicker from 'rc-calendar/lib/Picker';\nimport classNames from 'classnames';\nimport shallowequal from 'shallowequal';\nimport Icon from '../icon';\nimport Tag from '../tag';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport interopDefault from '../_util/interopDefault';\nimport { formatDate } from './utils';\nimport InputIcon from './InputIcon';\nfunction getShowDateFromValue(value, mode) {\n    const [start, end] = value;\n    // value could be an empty array, then we should not reset showDate\n    if (!start && !end) {\n        return;\n    }\n    if (mode && mode[0] === 'month') {\n        return [start, end];\n    }\n    const newEnd = end && end.isSame(start, 'month') ? end.clone().add(1, 'month') : end;\n    return [start, newEnd];\n}\nfunction pickerValueAdapter(value) {\n    if (!value) {\n        return;\n    }\n    if (Array.isArray(value)) {\n        return value;\n    }\n    return [value, value.clone().add(1, 'month')];\n}\nfunction isEmptyArray(arr) {\n    if (Array.isArray(arr)) {\n        return arr.length === 0 || arr.every(i => !i);\n    }\n    return false;\n}\nfunction fixLocale(value, localeCode) {\n    if (!localeCode) {\n        return;\n    }\n    if (!value || value.length === 0) {\n        return;\n    }\n    const [start, end] = value;\n    if (start) {\n        start.locale(localeCode);\n    }\n    if (end) {\n        end.locale(localeCode);\n    }\n}\nclass RangePicker extends React.Component {\n    constructor(props) {\n        super(props);\n        this.savePicker = (node) => {\n            this.picker = node;\n        };\n        this.clearSelection = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.setState({ value: [] });\n            this.handleChange([]);\n        };\n        this.clearHoverValue = () => this.setState({ hoverValue: [] });\n        this.handleChange = (value) => {\n            const { props } = this;\n            if (!('value' in props)) {\n                this.setState(({ showDate }) => ({\n                    value,\n                    showDate: getShowDateFromValue(value) || showDate,\n                }));\n            }\n            if (value[0] && value[1] && value[0].diff(value[1]) > 0) {\n                value[1] = undefined;\n            }\n            const [start, end] = value;\n            if (typeof props.onChange === 'function') {\n                props.onChange(value, [formatDate(start, props.format), formatDate(end, props.format)]);\n            }\n        };\n        this.handleOpenChange = (open) => {\n            if (!('open' in this.props)) {\n                this.setState({ open });\n            }\n            if (open === false) {\n                this.clearHoverValue();\n            }\n            const { onOpenChange } = this.props;\n            if (onOpenChange) {\n                onOpenChange(open);\n            }\n        };\n        this.handleShowDateChange = (showDate) => this.setState({ showDate });\n        this.handleHoverChange = (hoverValue) => this.setState({ hoverValue });\n        this.handleRangeMouseLeave = () => {\n            if (this.state.open) {\n                this.clearHoverValue();\n            }\n        };\n        this.handleCalendarInputSelect = (value) => {\n            const [start] = value;\n            if (!start) {\n                return;\n            }\n            this.setState(({ showDate }) => ({\n                value,\n                showDate: getShowDateFromValue(value) || showDate,\n            }));\n        };\n        this.handleRangeClick = (value) => {\n            if (typeof value === 'function') {\n                value = value();\n            }\n            this.setValue(value, true);\n            const { onOk, onOpenChange } = this.props;\n            if (onOk) {\n                onOk(value);\n            }\n            if (onOpenChange) {\n                onOpenChange(false);\n            }\n        };\n        this.renderFooter = () => {\n            const { ranges, renderExtraFooter } = this.props;\n            const { prefixCls, tagPrefixCls } = this;\n            if (!ranges && !renderExtraFooter) {\n                return null;\n            }\n            const customFooter = renderExtraFooter ? (<div className={`${prefixCls}-footer-extra`} key=\"extra\">\n        {renderExtraFooter()}\n      </div>) : null;\n            const operations = ranges &&\n                Object.keys(ranges).map(range => {\n                    const value = ranges[range];\n                    const hoverValue = typeof value === 'function' ? value.call(this) : value;\n                    return (<Tag key={range} prefixCls={tagPrefixCls} color=\"blue\" onClick={() => this.handleRangeClick(value)} onMouseEnter={() => this.setState({ hoverValue })} onMouseLeave={this.handleRangeMouseLeave}>\n            {range}\n          </Tag>);\n                });\n            const rangeNode = operations && operations.length > 0 ? (<div className={`${prefixCls}-footer-extra ${prefixCls}-range-quick-selector`} key=\"range\">\n          {operations}\n        </div>) : null;\n            return [rangeNode, customFooter];\n        };\n        this.renderRangePicker = ({ getPrefixCls }) => {\n            const { state, props } = this;\n            const { value, showDate, hoverValue, open } = state;\n            const { prefixCls: customizePrefixCls, tagPrefixCls: customizeTagPrefixCls, popupStyle, style, disabledDate, disabledTime, showTime, showToday, ranges, onOk, locale, \n            // @ts-ignore\n            localeCode, format, dateRender, onCalendarChange, suffixIcon, separator, } = props;\n            const prefixCls = getPrefixCls('calendar', customizePrefixCls);\n            const tagPrefixCls = getPrefixCls('tag', customizeTagPrefixCls);\n            // To support old version react.\n            // Have to add prefixCls on the instance.\n            // https://github.com/facebook/react/issues/12397\n            this.prefixCls = prefixCls;\n            this.tagPrefixCls = tagPrefixCls;\n            fixLocale(value, localeCode);\n            fixLocale(showDate, localeCode);\n            warning(!('onOK' in props), 'RangePicker', 'It should be `RangePicker[onOk]`, instead of `onOK`!');\n            const calendarClassName = classNames({\n                [`${prefixCls}-time`]: showTime,\n                [`${prefixCls}-range-with-ranges`]: ranges,\n            });\n            // 需要选择时间时，点击 ok 时才触发 onChange\n            const pickerChangeHandler = {\n                onChange: this.handleChange,\n            };\n            let calendarProps = {\n                onOk: this.handleChange,\n            };\n            if (props.timePicker) {\n                pickerChangeHandler.onChange = changedValue => this.handleChange(changedValue);\n            }\n            else {\n                calendarProps = {};\n            }\n            if ('mode' in props) {\n                calendarProps.mode = props.mode;\n            }\n            const startPlaceholder = Array.isArray(props.placeholder)\n                ? props.placeholder[0]\n                : locale.lang.rangePlaceholder[0];\n            const endPlaceholder = Array.isArray(props.placeholder)\n                ? props.placeholder[1]\n                : locale.lang.rangePlaceholder[1];\n            const calendar = (<RangeCalendar {...calendarProps} seperator={separator} onChange={onCalendarChange} format={format} prefixCls={prefixCls} className={calendarClassName} renderFooter={this.renderFooter} timePicker={props.timePicker} disabledDate={disabledDate} disabledTime={disabledTime} dateInputPlaceholder={[startPlaceholder, endPlaceholder]} locale={locale.lang} onOk={onOk} dateRender={dateRender} value={showDate} onValueChange={this.handleShowDateChange} hoverValue={hoverValue} onHoverChange={this.handleHoverChange} onPanelChange={props.onPanelChange} showToday={showToday} onInputSelect={this.handleCalendarInputSelect}/>);\n            // default width for showTime\n            const pickerStyle = {};\n            if (props.showTime) {\n                pickerStyle.width = (style && style.width) || 350;\n            }\n            const [startValue, endValue] = value;\n            const clearIcon = !props.disabled && props.allowClear && value && (startValue || endValue) ? (<Icon type=\"close-circle\" className={`${prefixCls}-picker-clear`} onClick={this.clearSelection} theme=\"filled\"/>) : null;\n            const inputIcon = <InputIcon suffixIcon={suffixIcon} prefixCls={prefixCls}/>;\n            const input = ({ value: inputValue }) => {\n                const [start, end] = inputValue;\n                return (<span className={props.pickerInputClass}>\n          <input disabled={props.disabled} readOnly value={formatDate(start, props.format)} placeholder={startPlaceholder} className={`${prefixCls}-range-picker-input`} tabIndex={-1}/>\n          <span className={`${prefixCls}-range-picker-separator`}> {separator} </span>\n          <input disabled={props.disabled} readOnly value={formatDate(end, props.format)} placeholder={endPlaceholder} className={`${prefixCls}-range-picker-input`} tabIndex={-1}/>\n          {clearIcon}\n          {inputIcon}\n        </span>);\n            };\n            return (<span ref={this.savePicker} id={typeof props.id === 'number' ? props.id.toString() : props.id} className={classNames(props.className, props.pickerClass)} style={Object.assign(Object.assign({}, style), pickerStyle)} tabIndex={props.disabled ? -1 : 0} onFocus={props.onFocus} onBlur={props.onBlur} onMouseEnter={props.onMouseEnter} onMouseLeave={props.onMouseLeave}>\n        <RcDatePicker {...props} {...pickerChangeHandler} calendar={calendar} value={value} open={open} onOpenChange={this.handleOpenChange} prefixCls={`${prefixCls}-picker-container`} style={popupStyle}>\n          {input}\n        </RcDatePicker>\n      </span>);\n        };\n        const value = props.value || props.defaultValue || [];\n        const [start, end] = value;\n        if ((start && !interopDefault(moment).isMoment(start)) ||\n            (end && !interopDefault(moment).isMoment(end))) {\n            throw new Error('The value/defaultValue of RangePicker must be a moment object array after `antd@2.0`, ' +\n                'see: https://u.ant.design/date-picker-value');\n        }\n        const pickerValue = !value || isEmptyArray(value) ? props.defaultPickerValue : value;\n        this.state = {\n            value,\n            showDate: pickerValueAdapter(pickerValue || interopDefault(moment)()),\n            open: props.open,\n            hoverValue: [],\n        };\n    }\n    static getDerivedStateFromProps(nextProps, prevState) {\n        let state = null;\n        if ('value' in nextProps) {\n            const value = nextProps.value || [];\n            state = {\n                value,\n            };\n            if (!shallowequal(nextProps.value, prevState.value)) {\n                state = Object.assign(Object.assign({}, state), { showDate: getShowDateFromValue(value, nextProps.mode) || prevState.showDate });\n            }\n        }\n        if ('open' in nextProps && prevState.open !== nextProps.open) {\n            state = Object.assign(Object.assign({}, state), { open: nextProps.open });\n        }\n        return state;\n    }\n    componentDidUpdate(_, prevState) {\n        if (!('open' in this.props) && prevState.open && !this.state.open) {\n            this.focus();\n        }\n    }\n    setValue(value, hidePanel) {\n        this.handleChange(value);\n        if ((hidePanel || !this.props.showTime) && !('open' in this.props)) {\n            this.setState({ open: false });\n        }\n    }\n    focus() {\n        this.picker.focus();\n    }\n    blur() {\n        this.picker.blur();\n    }\n    render() {\n        return <ConfigConsumer>{this.renderRangePicker}</ConfigConsumer>;\n    }\n}\nRangePicker.defaultProps = {\n    allowClear: true,\n    showToday: false,\n    separator: '~',\n};\npolyfill(RangePicker);\nexport default RangePicker;\n"],"file":"RangePicker.js"}
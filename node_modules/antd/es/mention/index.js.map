{"version":3,"sources":["mention/index.jsx"],"names":["React","RcMention","Nav","toString","toEditorState","getMentions","polyfill","classNames","Icon","warning","ConfigConsumer","Mention","props","mentionRef","ele","mentionEle","onSearchChange","value","prefix","defaultSearchChange","onChange","editorState","onFocus","ev","setState","focus","onBlur","_editor","focusEditor","renderMention","getPrefixCls","customizePrefixCls","prefixCls","className","loading","placement","suggestions","state","filteredSuggestions","cls","notFoundContent","defaultSuggestions","searchValue","toLowerCase","filter","suggestion","indexOf","type","Component","defaultProps","multiLines","toContentState"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport RcMention, { Nav, toString, toEditorState, getMentions } from 'rc-editor-mention';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport warning from '../_util/warning';\nimport { ConfigConsumer } from '../config-provider';\nclass Mention extends React.Component {\n    constructor(props) {\n        super(props);\n        this.mentionRef = (ele) => {\n            this.mentionEle = ele;\n        };\n        this.onSearchChange = (value, prefix) => {\n            if (this.props.onSearchChange) {\n                return this.props.onSearchChange(value, prefix);\n            }\n            return this.defaultSearchChange(value);\n        };\n        this.onChange = (editorState) => {\n            if (this.props.onChange) {\n                this.props.onChange(editorState);\n            }\n        };\n        this.onFocus = (ev) => {\n            this.setState({\n                focus: true,\n            });\n            if (this.props.onFocus) {\n                this.props.onFocus(ev);\n            }\n        };\n        this.onBlur = (ev) => {\n            this.setState({\n                focus: false,\n            });\n            if (this.props.onBlur) {\n                this.props.onBlur(ev);\n            }\n        };\n        this.focus = () => {\n            this.mentionEle._editor.focusEditor();\n        };\n        this.renderMention = ({ getPrefixCls }) => {\n            const { prefixCls: customizePrefixCls, className = '', loading, placement, suggestions, } = this.props;\n            const { filteredSuggestions, focus } = this.state;\n            const prefixCls = getPrefixCls('mention', customizePrefixCls);\n            const cls = classNames(className, {\n                [`${prefixCls}-active`]: focus,\n                [`${prefixCls}-placement-top`]: placement === 'top',\n            });\n            const notFoundContent = loading ? <Icon type=\"loading\"/> : this.props.notFoundContent;\n            return (<RcMention {...this.props} prefixCls={prefixCls} className={cls} ref={this.mentionRef} onSearchChange={this.onSearchChange} onChange={this.onChange} onFocus={this.onFocus} onBlur={this.onBlur} suggestions={suggestions || filteredSuggestions} notFoundContent={notFoundContent}/>);\n        };\n        this.state = {\n            filteredSuggestions: props.defaultSuggestions,\n            focus: false,\n        };\n        warning(false, 'Mention', 'Mention component is deprecated. Please use Mentions component instead.');\n    }\n    defaultSearchChange(value) {\n        const searchValue = value.toLowerCase();\n        const filteredSuggestions = (this.props.defaultSuggestions || []).filter(suggestion => {\n            if (typeof suggestion === 'string') {\n                return suggestion.toLowerCase().indexOf(searchValue) !== -1;\n            }\n            if (suggestion.type && suggestion.type === Nav) {\n                return suggestion.props.value\n                    ? suggestion.props.value.toLowerCase().indexOf(searchValue) !== -1\n                    : true;\n            }\n            return false;\n        });\n        this.setState({\n            filteredSuggestions,\n        });\n    }\n    render() {\n        return <ConfigConsumer>{this.renderMention}</ConfigConsumer>;\n    }\n}\nMention.getMentions = getMentions;\nMention.defaultProps = {\n    notFoundContent: 'No matches found',\n    loading: false,\n    multiLines: false,\n    placement: 'bottom',\n};\nMention.Nav = Nav;\nMention.toString = toString;\nMention.toContentState = toEditorState;\npolyfill(Mention);\nexport default Mention;\n"],"file":"index.js"}
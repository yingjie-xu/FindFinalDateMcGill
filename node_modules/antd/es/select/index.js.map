{"version":3,"sources":["select/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","PropTypes","RcSelect","Option","OptGroup","classNames","omit","ConfigConsumer","warning","Icon","tuple","SelectSizes","ModeOptions","SelectPropTypes","prefixCls","string","className","size","oneOf","notFoundContent","any","showSearch","bool","optionLabelProp","transitionName","choiceTransitionName","id","Select","props","saveSelect","node","rcSelect","renderSelect","getContextPopupContainer","getPopupContainer","getPrefixCls","renderEmpty","_a","customizePrefixCls","mode","removeIcon","clearIcon","menuItemSelectedIcon","showArrow","restProps","rest","cls","isCombobox","modeConfig","multiple","tags","combobox","finalRemoveIcon","isValidElement","cloneElement","finalClearIcon","finalMenuItemSelectedIcon","renderSuffixIcon","getNotFoundContent","undefined","focus","blur","SECRET_COMBOBOX_MODE_DO_NOT_USE","loading","suffixIcon","Component","defaultProps","propTypes"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RcSelect, { Option, OptGroup } from 'rc-select';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport Icon from '../icon';\nimport { tuple } from '../_util/type';\nconst SelectSizes = tuple('default', 'large', 'small');\nconst ModeOptions = tuple('default', 'multiple', 'tags', 'combobox', 'SECRET_COMBOBOX_MODE_DO_NOT_USE');\nconst SelectPropTypes = {\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    size: PropTypes.oneOf(SelectSizes),\n    notFoundContent: PropTypes.any,\n    showSearch: PropTypes.bool,\n    optionLabelProp: PropTypes.string,\n    transitionName: PropTypes.string,\n    choiceTransitionName: PropTypes.string,\n    id: PropTypes.string,\n};\nexport default class Select extends React.Component {\n    constructor(props) {\n        super(props);\n        this.saveSelect = (node) => {\n            this.rcSelect = node;\n        };\n        this.renderSelect = ({ getPopupContainer: getContextPopupContainer, getPrefixCls, renderEmpty, }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, className = '', size, mode, getPopupContainer, removeIcon, clearIcon, menuItemSelectedIcon, showArrow } = _a, restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"mode\", \"getPopupContainer\", \"removeIcon\", \"clearIcon\", \"menuItemSelectedIcon\", \"showArrow\"]);\n            const rest = omit(restProps, ['inputIcon']);\n            const prefixCls = getPrefixCls('select', customizePrefixCls);\n            const cls = classNames({\n                [`${prefixCls}-lg`]: size === 'large',\n                [`${prefixCls}-sm`]: size === 'small',\n                [`${prefixCls}-show-arrow`]: showArrow,\n            }, className);\n            let { optionLabelProp } = this.props;\n            if (this.isCombobox()) {\n                // children 带 dom 结构时，无法填入输入框\n                optionLabelProp = optionLabelProp || 'value';\n            }\n            const modeConfig = {\n                multiple: mode === 'multiple',\n                tags: mode === 'tags',\n                combobox: this.isCombobox(),\n            };\n            const finalRemoveIcon = (removeIcon &&\n                (React.isValidElement(removeIcon)\n                    ? React.cloneElement(removeIcon, {\n                        className: classNames(removeIcon.props.className, `${prefixCls}-remove-icon`),\n                    })\n                    : removeIcon)) || <Icon type=\"close\" className={`${prefixCls}-remove-icon`}/>;\n            const finalClearIcon = (clearIcon &&\n                (React.isValidElement(clearIcon)\n                    ? React.cloneElement(clearIcon, {\n                        className: classNames(clearIcon.props.className, `${prefixCls}-clear-icon`),\n                    })\n                    : clearIcon)) || (<Icon type=\"close-circle\" theme=\"filled\" className={`${prefixCls}-clear-icon`}/>);\n            const finalMenuItemSelectedIcon = (menuItemSelectedIcon &&\n                (React.isValidElement(menuItemSelectedIcon)\n                    ? React.cloneElement(menuItemSelectedIcon, {\n                        className: classNames(menuItemSelectedIcon.props.className, `${prefixCls}-selected-icon`),\n                    })\n                    : menuItemSelectedIcon)) || <Icon type=\"check\" className={`${prefixCls}-selected-icon`}/>;\n            return (<RcSelect inputIcon={this.renderSuffixIcon(prefixCls)} removeIcon={finalRemoveIcon} clearIcon={finalClearIcon} menuItemSelectedIcon={finalMenuItemSelectedIcon} showArrow={showArrow} {...rest} {...modeConfig} prefixCls={prefixCls} className={cls} optionLabelProp={optionLabelProp || 'children'} notFoundContent={this.getNotFoundContent(renderEmpty)} getPopupContainer={getPopupContainer || getContextPopupContainer} ref={this.saveSelect}/>);\n        };\n        warning(props.mode !== 'combobox', 'Select', 'The combobox mode is deprecated, ' +\n            'it will be removed in next major version, ' +\n            'please use AutoComplete instead');\n    }\n    getNotFoundContent(renderEmpty) {\n        const { notFoundContent } = this.props;\n        if (notFoundContent !== undefined) {\n            return notFoundContent;\n        }\n        if (this.isCombobox()) {\n            return null;\n        }\n        return renderEmpty('Select');\n    }\n    focus() {\n        this.rcSelect.focus();\n    }\n    blur() {\n        this.rcSelect.blur();\n    }\n    isCombobox() {\n        const { mode } = this.props;\n        return mode === 'combobox' || mode === Select.SECRET_COMBOBOX_MODE_DO_NOT_USE;\n    }\n    renderSuffixIcon(prefixCls) {\n        const { loading, suffixIcon } = this.props;\n        if (suffixIcon) {\n            return React.isValidElement(suffixIcon)\n                ? React.cloneElement(suffixIcon, {\n                    className: classNames(suffixIcon.props.className, `${prefixCls}-arrow-icon`),\n                })\n                : suffixIcon;\n        }\n        if (loading) {\n            return <Icon type=\"loading\"/>;\n        }\n        return <Icon type=\"down\" className={`${prefixCls}-arrow-icon`}/>;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderSelect}</ConfigConsumer>;\n    }\n}\nSelect.Option = Option;\nSelect.OptGroup = OptGroup;\nSelect.SECRET_COMBOBOX_MODE_DO_NOT_USE = 'SECRET_COMBOBOX_MODE_DO_NOT_USE';\nSelect.defaultProps = {\n    showSearch: false,\n    transitionName: 'slide-up',\n    choiceTransitionName: 'zoom',\n};\nSelect.propTypes = SelectPropTypes;\n"],"file":"index.js"}
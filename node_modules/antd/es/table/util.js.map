{"version":3,"sources":["table/util.jsx"],"names":["React","flatArray","data","childrenName","result","loop","array","forEach","item","newItem","push","length","treeMap","tree","mapper","map","node","index","extra","flatFilter","callback","reduce","acc","children","normalizeColumns","elements","columns","Children","element","isValidElement","column","props","key","type","__ANT_TABLE_COLUMN_GROUP","generateValueMaps","items","maps","value","toString"],"mappings":"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","sourcesContent":["import * as React from 'react';\nexport function flatArray(data = [], childrenName = 'children') {\n    const result = [];\n    const loop = (array) => {\n        array.forEach(item => {\n            if (item[childrenName]) {\n                const newItem = Object.assign({}, item);\n                delete newItem[childrenName];\n                result.push(newItem);\n                if (item[childrenName].length > 0) {\n                    loop(item[childrenName]);\n                }\n            }\n            else {\n                result.push(item);\n            }\n        });\n    };\n    loop(data);\n    return result;\n}\nexport function treeMap(tree, mapper, childrenName = 'children') {\n    return tree.map((node, index) => {\n        const extra = {};\n        if (node[childrenName]) {\n            extra[childrenName] = treeMap(node[childrenName], mapper, childrenName);\n        }\n        return Object.assign(Object.assign({}, mapper(node, index)), extra);\n    });\n}\nexport function flatFilter(tree, callback) {\n    return tree.reduce((acc, node) => {\n        if (callback(node)) {\n            acc.push(node);\n        }\n        if (node.children) {\n            const children = flatFilter(node.children, callback);\n            acc.push(...children);\n        }\n        return acc;\n    }, []);\n}\nexport function normalizeColumns(elements) {\n    const columns = [];\n    React.Children.forEach(elements, element => {\n        if (!React.isValidElement(element)) {\n            return;\n        }\n        const column = Object.assign({}, element.props);\n        if (element.key) {\n            column.key = element.key;\n        }\n        if (element.type && element.type.__ANT_TABLE_COLUMN_GROUP) {\n            column.children = normalizeColumns(column.children);\n        }\n        columns.push(column);\n    });\n    return columns;\n}\nexport function generateValueMaps(items, maps = {}) {\n    (items || []).forEach(({ value, children }) => {\n        maps[value.toString()] = value;\n        generateValueMaps(children, maps);\n    });\n    return maps;\n}\n"],"file":"util.js"}
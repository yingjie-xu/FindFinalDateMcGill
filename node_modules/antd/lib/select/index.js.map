{"version":3,"sources":["select/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","SelectSizes","ModeOptions","SelectPropTypes","prefixCls","PropTypes","string","className","size","oneOf","notFoundContent","any","showSearch","bool","optionLabelProp","transitionName","choiceTransitionName","id","Select","props","saveSelect","node","rcSelect","renderSelect","getContextPopupContainer","getPopupContainer","getPrefixCls","renderEmpty","_a","customizePrefixCls","mode","removeIcon","clearIcon","menuItemSelectedIcon","showArrow","restProps","rest","cls","isCombobox","modeConfig","multiple","tags","combobox","finalRemoveIcon","React","isValidElement","cloneElement","finalClearIcon","finalMenuItemSelectedIcon","renderSuffixIcon","getNotFoundContent","undefined","focus","blur","SECRET_COMBOBOX_MODE_DO_NOT_USE","loading","suffixIcon","Component","Option","OptGroup","defaultProps","propTypes"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RcSelect, { Option, OptGroup } from 'rc-select';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport Icon from '../icon';\nimport { tuple } from '../_util/type';\nconst SelectSizes = tuple('default', 'large', 'small');\nconst ModeOptions = tuple('default', 'multiple', 'tags', 'combobox', 'SECRET_COMBOBOX_MODE_DO_NOT_USE');\nconst SelectPropTypes = {\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    size: PropTypes.oneOf(SelectSizes),\n    notFoundContent: PropTypes.any,\n    showSearch: PropTypes.bool,\n    optionLabelProp: PropTypes.string,\n    transitionName: PropTypes.string,\n    choiceTransitionName: PropTypes.string,\n    id: PropTypes.string,\n};\nexport default class Select extends React.Component {\n    constructor(props) {\n        super(props);\n        this.saveSelect = (node) => {\n            this.rcSelect = node;\n        };\n        this.renderSelect = ({ getPopupContainer: getContextPopupContainer, getPrefixCls, renderEmpty, }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, className = '', size, mode, getPopupContainer, removeIcon, clearIcon, menuItemSelectedIcon, showArrow } = _a, restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"mode\", \"getPopupContainer\", \"removeIcon\", \"clearIcon\", \"menuItemSelectedIcon\", \"showArrow\"]);\n            const rest = omit(restProps, ['inputIcon']);\n            const prefixCls = getPrefixCls('select', customizePrefixCls);\n            const cls = classNames({\n                [`${prefixCls}-lg`]: size === 'large',\n                [`${prefixCls}-sm`]: size === 'small',\n                [`${prefixCls}-show-arrow`]: showArrow,\n            }, className);\n            let { optionLabelProp } = this.props;\n            if (this.isCombobox()) {\n                // children 带 dom 结构时，无法填入输入框\n                optionLabelProp = optionLabelProp || 'value';\n            }\n            const modeConfig = {\n                multiple: mode === 'multiple',\n                tags: mode === 'tags',\n                combobox: this.isCombobox(),\n            };\n            const finalRemoveIcon = (removeIcon &&\n                (React.isValidElement(removeIcon)\n                    ? React.cloneElement(removeIcon, {\n                        className: classNames(removeIcon.props.className, `${prefixCls}-remove-icon`),\n                    })\n                    : removeIcon)) || <Icon type=\"close\" className={`${prefixCls}-remove-icon`}/>;\n            const finalClearIcon = (clearIcon &&\n                (React.isValidElement(clearIcon)\n                    ? React.cloneElement(clearIcon, {\n                        className: classNames(clearIcon.props.className, `${prefixCls}-clear-icon`),\n                    })\n                    : clearIcon)) || (<Icon type=\"close-circle\" theme=\"filled\" className={`${prefixCls}-clear-icon`}/>);\n            const finalMenuItemSelectedIcon = (menuItemSelectedIcon &&\n                (React.isValidElement(menuItemSelectedIcon)\n                    ? React.cloneElement(menuItemSelectedIcon, {\n                        className: classNames(menuItemSelectedIcon.props.className, `${prefixCls}-selected-icon`),\n                    })\n                    : menuItemSelectedIcon)) || <Icon type=\"check\" className={`${prefixCls}-selected-icon`}/>;\n            return (<RcSelect inputIcon={this.renderSuffixIcon(prefixCls)} removeIcon={finalRemoveIcon} clearIcon={finalClearIcon} menuItemSelectedIcon={finalMenuItemSelectedIcon} showArrow={showArrow} {...rest} {...modeConfig} prefixCls={prefixCls} className={cls} optionLabelProp={optionLabelProp || 'children'} notFoundContent={this.getNotFoundContent(renderEmpty)} getPopupContainer={getPopupContainer || getContextPopupContainer} ref={this.saveSelect}/>);\n        };\n        warning(props.mode !== 'combobox', 'Select', 'The combobox mode is deprecated, ' +\n            'it will be removed in next major version, ' +\n            'please use AutoComplete instead');\n    }\n    getNotFoundContent(renderEmpty) {\n        const { notFoundContent } = this.props;\n        if (notFoundContent !== undefined) {\n            return notFoundContent;\n        }\n        if (this.isCombobox()) {\n            return null;\n        }\n        return renderEmpty('Select');\n    }\n    focus() {\n        this.rcSelect.focus();\n    }\n    blur() {\n        this.rcSelect.blur();\n    }\n    isCombobox() {\n        const { mode } = this.props;\n        return mode === 'combobox' || mode === Select.SECRET_COMBOBOX_MODE_DO_NOT_USE;\n    }\n    renderSuffixIcon(prefixCls) {\n        const { loading, suffixIcon } = this.props;\n        if (suffixIcon) {\n            return React.isValidElement(suffixIcon)\n                ? React.cloneElement(suffixIcon, {\n                    className: classNames(suffixIcon.props.className, `${prefixCls}-arrow-icon`),\n                })\n                : suffixIcon;\n        }\n        if (loading) {\n            return <Icon type=\"loading\"/>;\n        }\n        return <Icon type=\"down\" className={`${prefixCls}-arrow-icon`}/>;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderSelect}</ConfigConsumer>;\n    }\n}\nSelect.Option = Option;\nSelect.OptGroup = OptGroup;\nSelect.SECRET_COMBOBOX_MODE_DO_NOT_USE = 'SECRET_COMBOBOX_MODE_DO_NOT_USE';\nSelect.defaultProps = {\n    showSearch: false,\n    transitionName: 'slide-up',\n    choiceTransitionName: 'zoom',\n};\nSelect.propTypes = SelectPropTypes;\n"],"file":"index.js"}
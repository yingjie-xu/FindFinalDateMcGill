{"version":3,"sources":["tabs/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Tabs","arguments","removeTab","targetKey","stopPropagation","onEdit","props","handleChange","activeKey","onChange","createNewTab","renderTabs","getPrefixCls","customizePrefixCls","prefixCls","className","size","type","tabPosition","children","animated","hideAdd","tabBarExtraContent","tabPaneAnimated","tabPane","cls","childrenWithClose","React","Children","forEach","child","index","isValidElement","closable","closeIcon","key","push","cloneElement","tab","undefined","tabBarProps","contentCls","NO_FLEX","tabNode","ReactDOM","findDOMNode","isFlexSupported","Component","TabPane","defaultProps"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport RcTabs, { TabPane } from 'rc-tabs';\nimport TabContent from 'rc-tabs/lib/TabContent';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport TabBar from './TabBar';\nimport Icon from '../icon';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport { isFlexSupported } from '../_util/styleChecker';\nexport default class Tabs extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.removeTab = (targetKey, e) => {\n            e.stopPropagation();\n            if (!targetKey) {\n                return;\n            }\n            const { onEdit } = this.props;\n            if (onEdit) {\n                onEdit(targetKey, 'remove');\n            }\n        };\n        this.handleChange = (activeKey) => {\n            const { onChange } = this.props;\n            if (onChange) {\n                onChange(activeKey);\n            }\n        };\n        this.createNewTab = (targetKey) => {\n            const { onEdit } = this.props;\n            if (onEdit) {\n                onEdit(targetKey, 'add');\n            }\n        };\n        this.renderTabs = ({ getPrefixCls }) => {\n            const { prefixCls: customizePrefixCls, className = '', size, type = 'line', tabPosition, children, animated = true, hideAdd, } = this.props;\n            let { tabBarExtraContent } = this.props;\n            let tabPaneAnimated = typeof animated === 'object' ? animated.tabPane : animated;\n            // card tabs should not have animation\n            if (type !== 'line') {\n                tabPaneAnimated = 'animated' in this.props ? tabPaneAnimated : false;\n            }\n            warning(!(type.indexOf('card') >= 0 && (size === 'small' || size === 'large')), 'Tabs', \"`type=card|editable-card` doesn't have small or large size, it's by design.\");\n            const prefixCls = getPrefixCls('tabs', customizePrefixCls);\n            const cls = classNames(className, {\n                [`${prefixCls}-vertical`]: tabPosition === 'left' || tabPosition === 'right',\n                [`${prefixCls}-${size}`]: !!size,\n                [`${prefixCls}-card`]: type.indexOf('card') >= 0,\n                [`${prefixCls}-${type}`]: true,\n                [`${prefixCls}-no-animation`]: !tabPaneAnimated,\n            });\n            // only card type tabs can be added and closed\n            let childrenWithClose = [];\n            if (type === 'editable-card') {\n                childrenWithClose = [];\n                React.Children.forEach(children, (child, index) => {\n                    if (!React.isValidElement(child))\n                        return child;\n                    let { closable } = child.props;\n                    closable = typeof closable === 'undefined' ? true : closable;\n                    const closeIcon = closable ? (<Icon type=\"close\" className={`${prefixCls}-close-x`} onClick={e => this.removeTab(child.key, e)}/>) : null;\n                    childrenWithClose.push(React.cloneElement(child, {\n                        tab: (<div className={closable ? undefined : `${prefixCls}-tab-unclosable`}>\n                {child.props.tab}\n                {closeIcon}\n              </div>),\n                        key: child.key || index,\n                    }));\n                });\n                // Add new tab handler\n                if (!hideAdd) {\n                    tabBarExtraContent = (<span>\n            <Icon type=\"plus\" className={`${prefixCls}-new-tab`} onClick={this.createNewTab}/>\n            {tabBarExtraContent}\n          </span>);\n                }\n            }\n            tabBarExtraContent = tabBarExtraContent ? (<div className={`${prefixCls}-extra-content`}>{tabBarExtraContent}</div>) : null;\n            const tabBarProps = __rest(this.props, []);\n            const contentCls = classNames(`${prefixCls}-${tabPosition}-content`, type.indexOf('card') >= 0 && `${prefixCls}-card-content`);\n            return (<RcTabs {...this.props} prefixCls={prefixCls} className={cls} tabBarPosition={tabPosition} renderTabBar={() => (<TabBar {...omit(tabBarProps, ['className'])} tabBarExtraContent={tabBarExtraContent}/>)} renderTabContent={() => (<TabContent className={contentCls} animated={tabPaneAnimated} animatedWithMargin/>)} onChange={this.handleChange}>\n        {childrenWithClose.length > 0 ? childrenWithClose : children}\n      </RcTabs>);\n        };\n    }\n    componentDidMount() {\n        const NO_FLEX = ' no-flex';\n        const tabNode = ReactDOM.findDOMNode(this);\n        if (tabNode && !isFlexSupported && tabNode.className.indexOf(NO_FLEX) === -1) {\n            tabNode.className += NO_FLEX;\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTabs}</ConfigConsumer>;\n    }\n}\nTabs.TabPane = TabPane;\nTabs.defaultProps = {\n    hideAdd: false,\n    tabPosition: 'top',\n};\n"],"file":"index.js"}
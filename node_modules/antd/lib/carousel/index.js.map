{"version":3,"sources":["carousel/index.jsx"],"names":["window","matchMediaPolyfill","mediaQuery","media","matches","addListener","removeListener","matchMedia","SlickCarousel","require","Carousel","props","saveSlick","node","slick","onWindowResized","autoplay","innerSlider","autoPlay","renderCarousel","getPrefixCls","effect","fade","className","prefixCls","dotsClass","dotPosition","getDotPosition","vertical","leading","addEventListener","prevProps","React","Children","count","children","goTo","initialSlide","removeEventListener","cancel","slickNext","slickPrev","slide","dontAnimate","slickGoTo","Component","defaultProps","dots","arrows","draggable"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\n// matchMedia polyfill for\n// https://github.com/WickyNilliams/enquire.js/issues/82\n// TODO: Will be removed in antd 4.0 because we will no longer support ie9\nif (typeof window !== 'undefined') {\n    const matchMediaPolyfill = (mediaQuery) => {\n        return {\n            media: mediaQuery,\n            matches: false,\n            addListener() { },\n            removeListener() { },\n        };\n    };\n    // ref: https://github.com/ant-design/ant-design/issues/18774\n    if (!window.matchMedia)\n        window.matchMedia = matchMediaPolyfill;\n}\n// Use require over import (will be lifted up)\n// make sure matchMedia polyfill run before require('react-slick')\n// Fix https://github.com/ant-design/ant-design/issues/6560\n// Fix https://github.com/ant-design/ant-design/issues/3308\nconst SlickCarousel = require('react-slick').default;\nexport default class Carousel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.saveSlick = (node) => {\n            this.slick = node;\n        };\n        this.onWindowResized = () => {\n            // Fix https://github.com/ant-design/ant-design/issues/2550\n            const { autoplay } = this.props;\n            if (autoplay && this.slick && this.slick.innerSlider && this.slick.innerSlider.autoPlay) {\n                this.slick.innerSlider.autoPlay();\n            }\n        };\n        this.renderCarousel = ({ getPrefixCls }) => {\n            const props = Object.assign({}, this.props);\n            if (props.effect === 'fade') {\n                props.fade = true;\n            }\n            let className = getPrefixCls('carousel', props.prefixCls);\n            const dotsClass = 'slick-dots';\n            const dotPosition = this.getDotPosition();\n            props.vertical = dotPosition === 'left' || dotPosition === 'right';\n            props.dotsClass = `${dotsClass} ${dotsClass}-${dotPosition || 'bottom'}`;\n            if (props.vertical) {\n                className = `${className} ${className}-vertical`;\n            }\n            return (<div className={className}>\n        <SlickCarousel ref={this.saveSlick} {...props}/>\n      </div>);\n        };\n        this.onWindowResized = debounce(this.onWindowResized, 500, {\n            leading: false,\n        });\n        if ('vertical' in this.props) {\n            warning(!this.props.vertical, 'Carousel', '`vertical` is deprecated, please use `dotPosition` instead.');\n        }\n    }\n    componentDidMount() {\n        const { autoplay } = this.props;\n        if (autoplay) {\n            window.addEventListener('resize', this.onWindowResized);\n        }\n        // https://github.com/ant-design/ant-design/issues/7191\n        this.innerSlider = this.slick && this.slick.innerSlider;\n    }\n    componentDidUpdate(prevProps) {\n        if (React.Children.count(this.props.children) !== React.Children.count(prevProps.children)) {\n            this.goTo(this.props.initialSlide || 0, false);\n        }\n    }\n    componentWillUnmount() {\n        const { autoplay } = this.props;\n        if (autoplay) {\n            window.removeEventListener('resize', this.onWindowResized);\n            this.onWindowResized.cancel();\n        }\n    }\n    getDotPosition() {\n        if (this.props.dotPosition) {\n            return this.props.dotPosition;\n        }\n        if ('vertical' in this.props) {\n            return this.props.vertical ? 'right' : 'bottom';\n        }\n        return 'bottom';\n    }\n    next() {\n        this.slick.slickNext();\n    }\n    prev() {\n        this.slick.slickPrev();\n    }\n    goTo(slide, dontAnimate = false) {\n        this.slick.slickGoTo(slide, dontAnimate);\n    }\n    render() {\n        return <ConfigConsumer>{this.renderCarousel}</ConfigConsumer>;\n    }\n}\nCarousel.defaultProps = {\n    dots: true,\n    arrows: false,\n    draggable: false,\n};\n"],"file":"index.js"}